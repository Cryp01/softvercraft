version: "3.5"

# Docker Volumes
volumes:
    papermc_data:
        name: papermc_data

# Docker services
services:
    papermc:
        build: .
        container_name: papermc
        restart: always
        tty: true
        stdin_open: true
        ports:
            - "25575:25565"
        volumes:
            - papermc_data:/data
        labels:
            - "traefik.enable=true"
            - "traefik.tcp.routers.minecraft.entrypoints=minecraft"
            - "traefik.tcp.routers.minecraft.rule=HostSNI(`*`)"
            - "traefik.tcp.routers.minecraft.service=minecraft"
            - "traefik.tcp.routers.minecraft.tls=true"
            - "traefik.tcp.services.minecraft.loadbalancer.server.port=25565"
